<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title id="page-title">CMS í˜ì´ì§€</title>
<meta name="description" id="meta-description" content="">
<meta name="keywords" id="meta-keywords" content="">

<!-- 
    KITMS CMS í…œí”Œë¦¿ í˜ì´ì§€
    ë™ì  ì»¨í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œ(CMS)ì˜ ê¸°ë³¸ í…œí”Œë¦¿ì…ë‹ˆë‹¤.
    
    ì£¼ìš” ê¸°ëŠ¥:
    - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í˜ì´ì§€ ì»¨í…ì¸  ë™ì  ë¡œë“œ
    - SEO ë©”íƒ€ ì •ë³´ ë™ì  ì„¤ì •
    - ê³µí†µ í—¤ë”/í‘¸í„° í¬í•¨
    - ë°˜ì‘í˜• ì›¹ ë””ìì¸
    
    ì‚¬ìš©ë²•: /cms-template.html?page=í˜ì´ì§€ì½”ë“œ
    ì˜ˆì‹œ: /cms-template.html?page=sub0101
    
    @author KITMS Development Team
    @version 1.0
-->

<!-- CSS íŒŒì¼ë“¤ -->
<link rel="stylesheet" href="./style/splide.min.css">
<link rel="stylesheet" href="./style/reset.css">
<link rel="stylesheet" href="./style/common.css">
<!-- í˜ì´ì§€ë³„ CSSëŠ” ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
<link rel="stylesheet" href="./style/swiper-bundle.min.css" />
<link rel="stylesheet" href="./style/aos.css">
<link rel="stylesheet" href="./style/mobile.css">
<link rel="icon" href="./images/ico.ico" type="image/x-icon">

<style>
/* CMS ì „ìš© ìŠ¤íƒ€ì¼ */
.cms-loading {
    text-align: center;
    padding: 50px;
    font-size: 18px;
    color: #666;
}

.cms-error {
    text-align: center;
    padding: 50px;
    color: #e74c3c;
    background-color: #fdf2f2;
    border: 1px solid #fecaca;
    border-radius: 8px;
    margin: 20px;
}

.cms-content {
    min-height: 400px;
}

/* í—¤ë” ë¡œë”© ê´€ë ¨ ìŠ¤íƒ€ì¼ */
.header-loading {
    text-align: center;
    padding: 20px;
    color: #666;
    font-size: 14px;
    background-color: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
}

/* ë©”ë‰´ í‘œì‹œë¥¼ ìœ„í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ - ì¼ë‹¨ ëª¨ë“  ìˆ¨ê¹€ ì²˜ë¦¬ ì œê±° */
.header .header-gnb .gnb-depth-1 {
    opacity: 1;
}

.header .mobile-gnb .sidebar .gnb-depth-1 {
    opacity: 1;
}

/* í—¤ë” ë©”ë‰´ í˜¸ë²„ íš¨ê³¼ ìˆ˜ì • */
.header .header-gnb .gnb-depth-1 .depth-1:hover .depth-item {
    visibility: visible !important;
    opacity: 1 !important;
    transition: all 0.3s ease;
}

.header .header-gnb .gnb-depth-1 .depth-1:hover .depth-item .gnb-depth-2 {
    visibility: visible !important;
    opacity: 1 !important;
    transition: all 0.3s ease;
}

/* í—¤ë” open í´ë˜ìŠ¤ ìŠ¤íƒ€ì¼ */
.header.open {
    /* ë°°ê²½ìƒ‰ ë³€ê²½ ì œê±° - ì›ë˜ ë°°ê²½ ìœ ì§€ */
    /* background-color: rgba(0, 0, 0, 0.95); 
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);*/
    transition: all 0.3s ease;
}

.header.open .header-gnb .gnb-depth-1 .depth-1.current .depth-item {
    visibility: visible !important;
    opacity: 1 !important;
}

.header.open .header-gnb .gnb-depth-1 .depth-1.current .depth-item .gnb-depth-2 {
    visibility: visible !important;
    opacity: 1 !important;
}
</style>
</head>
<body>
    <!-- í—¤ë” ì˜ì—­ - ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
    <div id="header" class="header">
        <div class="header-loading">
            <p>í—¤ë”ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
        </div>
    </div>
    
    <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
    <div id="main-content" class="body">
        <!-- ë¡œë”© ìƒíƒœ -->
        <div id="loading" class="cms-loading">
            <p>ì»¨í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
        </div>
        
        <!-- ì—ëŸ¬ ìƒíƒœ -->
        <div id="error" class="cms-error" style="display: none;">
            <h3>ì»¨í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
            <p id="error-message">í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
        </div>
        
        <!-- ì‹¤ì œ ì»¨í…ì¸  ì˜ì—­ -->
        <div id="content" class="cms-content" style="display: none;">
            <!-- ì—¬ê¸°ì— DBì—ì„œ ê°€ì ¸ì˜¨ ì»¨í…ì¸ ê°€ ë™ì ìœ¼ë¡œ ì‚½ì…ë©ë‹ˆë‹¤ -->
        </div>
    </div>
    
    <!-- í‘¸í„° ì˜ì—­ -->
    <div th:replace="fragments/footer :: footer"></div>
    
    <!-- JavaScript íŒŒì¼ë“¤ -->
    <script src="./js/swiper-bundle.min.js"></script>
    <script src="./js/splide.min.js"></script>
    <script src="./js/aos.js"></script>
    <script src="./js/gsap.min.js"></script>
    <script src="./js/ScrollTrigger.min.js"></script>
    <script src="./js/common.js"></script>
    
    <!-- TOP ë²„íŠ¼ -->
    <button id="toTopBtn" class="to-top"><span>â†‘</span> TOP</button>
    
    <script th:inline="javascript">
        // Thymeleafì—ì„œ í˜ì´ì§€ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
        const pageCode = /*[[${pageCode}]]*/ 'sub0101';
        
        // API ê¸°ë³¸ URL ì •ì˜
        window.API_BASE_URL = '/api';
        
        // ë©”ë‰´ ë¡œë“œ í•¨ìˆ˜
        async function loadMenus() {
            try {
                const response = await fetch(`${window.API_BASE_URL}/kitms-menus/tree`);
                if (response.ok) {
                    const result = await response.json();
                    if (result.status === 'OK' && result.data.menuTreeJson) {
                        renderMenus(result.data.menuTreeJson);
                    }
                } else {
                    console.error('ë©”ë‰´ API ì‘ë‹µ ì˜¤ë¥˜:', response.status);
                }
            } catch (error) {
                console.error('ë©”ë‰´ ë¡œë“œ ì˜¤ë¥˜:', error);
                // ì˜¤ë¥˜ ì‹œ ê¸°ë³¸ ë©”ë‰´ í‘œì‹œ
                renderDefaultMenus();
            }
        }
        
        // ê¸°ë³¸ ë©”ë‰´ ë Œë”ë§ (API ì‹¤íŒ¨ ì‹œ)
        function renderDefaultMenus() {
            const defaultMenus = [
                {
                    menuName: 'ì¼€ì´ì›ì†Œê°œ',
                    menuUrl: './cms-template.html?page=sub0101',
                    children: [
                        { menuName: 'íšŒì‚¬ì†Œê°œ', menuUrl: './cms-template.html?page=sub0101' },
                        { menuName: 'ì¼€ì´ì›ì—°í˜', menuUrl: './cms-template.html?page=sub0102' },
                        { menuName: 'CEO ì¸ì‚¬ë§', menuUrl: './cms-template.html?page=sub0103' },
                        { menuName: 'ìœ¤ë¦¬ê²½ì˜', menuUrl: './cms-template.html?page=sub0104' },
                        { menuName: 'ì¡°ì§êµ¬ì„±', menuUrl: './cms-template.html?page=sub0105' },
                        { menuName: 'ì¸ì¦í˜„í™©', menuUrl: './cms-template.html?page=sub0106' },
                        { menuName: 'ì˜¤ì‹œëŠ” ê¸¸', menuUrl: './cms-template.html?page=sub0107' }
                    ]
                },
                {
                    menuName: 'ì‚¬ì—…ì˜ì—­',
                    menuUrl: './cms-template.html?page=sub0201',
                    children: [
                        { menuName: 'ì‚¬ì—…í•˜ê¸°', menuUrl: './cms-template.html?page=sub0201' },
                        { menuName: 'ë¬¸ì˜í•˜ê¸°', menuUrl: './cms-template.html?page=sub0202' }
                    ]
                },
                {
                    menuName: 'í™ë³´ì„¼í„°',
                    menuUrl: './cms-template.html?page=sub0301',
                    children: [
                        { menuName: 'ë³´ë„ìë£Œ', menuUrl: './cms-template.html?page=sub0301' },
                        { menuName: 'ê³µì§€ì‚¬í•­', menuUrl: './cms-template.html?page=sub0302' }
                    ]
                },
                {
                    menuName: 'ì±„ìš©ê³µê³ ',
                    menuUrl: './cms-template.html?page=sub0401',
                    children: [
                        { menuName: 'ì±„ìš©ê³µê³ ', menuUrl: './cms-template.html?page=sub0401' },
                        { menuName: 'ì¸ì¬ìƒ', menuUrl: './cms-template.html?page=sub0402' }
                    ]
                }
            ];
            renderMenus(defaultMenus);
        }
        
        // ë©”ë‰´ ë Œë”ë§ í•¨ìˆ˜
        function renderMenus(menuTree) {
            // ë°ìŠ¤í¬í†± ë©”ë‰´ ë Œë”ë§
            renderDesktopMenus(menuTree);
            
            // ëª¨ë°”ì¼ ë©”ë‰´ ë Œë”ë§
            renderMobileMenus(menuTree);
        }
        
        // ë°ìŠ¤í¬í†± ë©”ë‰´ ë Œë”ë§
        function renderDesktopMenus(menuTree) {
            const gnbDepth1 = document.querySelector('.header-gnb .gnb-depth-1');
            if (!gnbDepth1) {
                console.error('ë°ìŠ¤í¬í†± ë©”ë‰´ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            // ê¸°ì¡´ ë©”ë‰´ ì œê±°
            gnbDepth1.innerHTML = '';
            
            menuTree.forEach(menu => {
                // is_activeê°€ 'N'ì´ë©´ ê±´ë„ˆë›°ê¸°
                if (menu.isActive === 'N') {
                    return;
                }
                
                const li = document.createElement('li');
                li.className = 'depth-1';
                
                // 1depth ë§í¬
                const link = document.createElement('a');
                link.href = menu.menuUrl || '#';
                link.className = 'depth-1-link hover-underline';
                if (menu.isNewWindow === 'Y') {
                    link.target = '_blank';
                }
                
                const span = document.createElement('span');
                span.textContent = menu.menuName;
                link.appendChild(span);
                
                // 2depth ë©”ë‰´ê°€ ìˆëŠ” ê²½ìš°
                if (menu.children && menu.children.length > 0) {
                    const depthItem = document.createElement('div');
                    depthItem.className = 'depth-item';
                    
                    const ul = document.createElement('ul');
                    ul.className = 'gnb-depth-2';
                    
                    menu.children.forEach(child => {
                        // ìì‹ ë©”ë‰´ë„ is_activeê°€ 'N'ì´ë©´ ê±´ë„ˆë›°ê¸°
                        if (child.isActive === 'N') {
                            return;
                        }
                        
                        const childLi = document.createElement('li');
                        childLi.className = 'depth-2';
                        
                        const childLink = document.createElement('a');
                        childLink.href = child.menuUrl || '#';
                        childLink.className = 'depth-2-link';
                        if (child.isNewWindow === 'Y') {
                            childLink.target = '_blank';
                        }
                        
                        const childSpan = document.createElement('span');
                        childSpan.textContent = child.menuName;
                        childLink.appendChild(childSpan);
                        
                        childLi.appendChild(childLink);
                        ul.appendChild(childLi);
                    });
                    
                    // ìì‹ ë©”ë‰´ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ depth-item ì¶”ê°€
                    if (ul.children.length > 0) {
                        depthItem.appendChild(ul);
                        li.appendChild(link);
                        li.appendChild(depthItem);
                    } else {
                        li.appendChild(link);
                    }
                } else {
                    li.appendChild(link);
                }
                
                gnbDepth1.appendChild(li);
            });
            
            // ë©”ë‰´ ë Œë”ë§ ì™„ë£Œ
        }
        
        // ëª¨ë°”ì¼ ë©”ë‰´ ë Œë”ë§
        function renderMobileMenus(menuTree) {
            const mobileGnbDepth1 = document.querySelector('.sidebar .gnb-depth-1');
            if (!mobileGnbDepth1) {
                console.error('ëª¨ë°”ì¼ ë©”ë‰´ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            // ê¸°ì¡´ ë©”ë‰´ ì œê±°
            mobileGnbDepth1.innerHTML = '';
            
            menuTree.forEach(menu => {
                // is_activeê°€ 'N'ì´ë©´ ê±´ë„ˆë›°ê¸°
                if (menu.isActive === 'N') {
                    return;
                }
                
                const li = document.createElement('li');
                li.className = 'depth-1';
                
                // 1depth ë§í¬
                const link = document.createElement('a');
                link.href = menu.menuUrl || '#';
                link.className = 'depth-1-link';
                if (menu.isNewWindow === 'Y') {
                    link.target = '_blank';
                }
                
                const span = document.createElement('span');
                span.textContent = menu.menuName;
                link.appendChild(span);
                
                // 2depth ë©”ë‰´ê°€ ìˆëŠ” ê²½ìš°
                if (menu.children && menu.children.length > 0) {
                    const ul = document.createElement('ul');
                    ul.className = 'gnb-depth-2';
                    
                    menu.children.forEach(child => {
                        // ìì‹ ë©”ë‰´ë„ is_activeê°€ 'N'ì´ë©´ ê±´ë„ˆë›°ê¸°
                        if (child.isActive === 'N') {
                            return;
                        }
                        
                        const childLi = document.createElement('li');
                        childLi.className = 'depth-2';
                        
                        const childLink = document.createElement('a');
                        childLink.href = child.menuUrl || '#';
                        childLink.className = 'depth-2-link';
                        if (child.isNewWindow === 'Y') {
                            childLink.target = '_blank';
                        }
                        
                        const childSpan = document.createElement('span');
                        childSpan.textContent = child.menuName;
                        childLink.appendChild(childSpan);
                        
                        childLi.appendChild(childLink);
                        ul.appendChild(childLi);
                    });
                    
                    // ìì‹ ë©”ë‰´ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ul ì¶”ê°€
                    if (ul.children.length > 0) {
                        li.appendChild(link);
                        li.appendChild(ul);
                    } else {
                        li.appendChild(link);
                    }
                } else {
                    li.appendChild(link);
                }
                
                mobileGnbDepth1.appendChild(li);
            });
            
            // ëª¨ë°”ì¼ ë©”ë‰´ ë Œë”ë§ ì™„ë£Œ
        }
        
        // í—¤ë” ë™ì  ë¡œë”© í´ë˜ìŠ¤
        class HeaderLoader {
            constructor() {
                this.init();
            }
            
            async init() {
                try {
                    await this.loadPageSpecificCSS();
                    await this.loadHeader();
                    await this.loadHeaderScript();
                } catch (error) {
                    console.error('í—¤ë” ë¡œë”© ì˜¤ë¥˜:', error);
                    this.showError('í—¤ë”ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            }
            
            // í˜ì´ì§€ë³„ CSS ë¡œë“œ
            async loadPageSpecificCSS() {
                let cssFile = '';
                
                // í˜ì´ì§€ ì½”ë“œì— ë”°ë¼ CSS íŒŒì¼ ê²°ì •
                if (pageCode.startsWith('sub01')) {
                    cssFile = './style/sub01.css';
                } else if (pageCode.startsWith('sub02')) {
                    cssFile = './style/sub02.css';
                } else if (pageCode.startsWith('sub03')) {
                    cssFile = './style/sub03.css';
                } else if (pageCode.startsWith('sub04')) {
                    cssFile = './style/sub04.css';
                } else {
                    // ê¸°ë³¸ê°’
                    cssFile = './style/sub01.css';
                }
                
                // CSS íŒŒì¼ ë™ì  ë¡œë“œ
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = cssFile;
                document.head.appendChild(link);
            }
            
            async loadHeader() {
                try {
                    const response = await fetch('/api/header-section/html');
                    
                    if (!response.ok) {
                        throw new Error(`ì„œë²„ ì˜¤ë¥˜: ${response.status}`);
                    }
                    
                    const htmlContent = await response.text();
                    const headerContainer = document.getElementById('header');
                    headerContainer.innerHTML = htmlContent;

                    await this.updateAllImagePaths();    
                    
                } catch (error) {
                    console.error('í—¤ë” HTML ë¡œë”© ì˜¤ë¥˜:', error);
                    throw error;
                }
                // í‘¸í„° ë¡œê³  ì´ë¯¸ì§€ ì²˜ë¦¬
                const footerLogo = document.querySelector('.footer-logo');
                            if (footerLogo) {
                                const imageFile = 'logos/kone_logo.svg';
                                const secureUrl = await this.getSecureImageUrl(imageFile);
                                footerLogo.src = secureUrl;
                                footerLogo.addEventListener('error', function() {
                                    handleImageLoadError(this, imageFile);
                                });
                            }
            }
            
            async loadHeaderScript() {
                try {
                    const response = await fetch('/api/header-section/script');

                    if (!response.ok) {
                        throw new Error(`ì„œë²„ ì˜¤ë¥˜: ${response.status}`);
                    }
                    
                    const scriptContent = await response.text();
                    
                    // ë™ì ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
                    const script = document.createElement('script');
                    script.textContent = scriptContent;
                    document.head.appendChild(script);
                    
                     // í—¤ë” ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© í›„ ë©”ë‰´ ë¡œë“œ ë° í˜¸ë²„ ì´ë²¤íŠ¸ ì´ˆê¸°í™”
                     setTimeout(() => {
                         this.loadMenusAndInitializeHover();
                     }, 100);
                    
                } catch (error) {
                    console.error('í—¤ë” ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì˜¤ë¥˜:', error);
                    // ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì‹¤íŒ¨ëŠ” ì¹˜ëª…ì ì´ì§€ ì•Šìœ¼ë¯€ë¡œ ì—ëŸ¬ë¥¼ ë˜ì§€ì§€ ì•ŠìŒ
                }
            }
            
             // ë©”ë‰´ ë¡œë“œ ë° í˜¸ë²„ ì´ë²¤íŠ¸ ì´ˆê¸°í™”
             async loadMenusAndInitializeHover() {
                 try {
                     await loadMenus();
                     
                     // í˜¸ë²„ ì´ë²¤íŠ¸ ì´ˆê¸°í™”
                     this.initializeHeaderHover();
                     
                 } catch (error) {
                     console.error('ë©”ë‰´ ë¡œë“œ ë° í˜¸ë²„ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                     // ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ í˜¸ë²„ ì´ë²¤íŠ¸ëŠ” ì´ˆê¸°í™”
                     this.initializeHeaderHover();
                 }
             }
             
             // í—¤ë” í˜¸ë²„ ì´ë²¤íŠ¸ ì´ˆê¸°í™”
             initializeHeaderHover() {
                 const header = document.querySelector('.header');
                 const depth1Items = document.querySelectorAll('.header .header-gnb .gnb-depth-1 .depth-1');
                 
                 depth1Items.forEach(item => {
                     const depthItem = item.querySelector('.depth-item');
                     if (depthItem) {
                         item.addEventListener('mouseenter', function() {
                             // í—¤ë”ì— open í´ë˜ìŠ¤ ì¶”ê°€
                             if (header) {
                                 header.classList.add('open');
                             }
                             item.classList.add('current');
                             
                             // í•˜ìœ„ë©”ë‰´ í‘œì‹œ
                             depthItem.style.visibility = 'visible';
                             depthItem.style.opacity = '1';
                             
                             // ë†’ì´ ì„¤ì •
                             const targetMenu = item.querySelector('.gnb-depth-2');
                             if (targetMenu) {
                                 const targetHeight = targetMenu.getBoundingClientRect().height;
                                 depthItem.style.height = `${targetHeight}px`;
                             }
                         });
                         
                         item.addEventListener('mouseleave', function() {
                             // í—¤ë”ì—ì„œ open í´ë˜ìŠ¤ ì œê±°
                             if (header) {
                                 header.classList.remove('open');
                             }
                             item.classList.remove('current');
                             
                             // í•˜ìœ„ë©”ë‰´ ìˆ¨ê¹€
                             depthItem.style.visibility = 'hidden';
                             depthItem.style.opacity = '0';
                             depthItem.style.height = '0px';
                         });
                     }
                 });
             }
            
            showError(message) {
                const headerContainer = document.getElementById('header');
                headerContainer.innerHTML = `
                    <div class="header-loading" style="color: #e74c3c;">
                        <p>${message}</p>
                    </div>
                `;
            }
            
            // ì´ë¯¸ì§€ ë³´ì•ˆ URL ì²˜ë¦¬ í•¨ìˆ˜ë“¤ (sub0301.htmlì—ì„œ ë³µì‚¬)
            async updateAllImagePaths() {
                
                // í—¤ë” ë¡œê³  ì´ë¯¸ì§€ ì²˜ë¦¬
                const headerLogoWhite = document.querySelector('.header-logo-white');
                const headerLogoColor = document.querySelector('.header-logo-color');
                
                if (headerLogoWhite) {
                    const secureUrl = await this.getSecureImageUrl('logos/kone_logo.svg');
                    if (secureUrl) {
                        headerLogoWhite.src = secureUrl;
                    }
                }
                
                if (headerLogoColor) {
                    const secureUrl = await this.getSecureImageUrl('logos/kone_logo_color.svg');
                    if (secureUrl) {
                        headerLogoColor.src = secureUrl;
                    }
                }
                
            }
            
            async getSecureImageUrl(fileName, isDefaultImage = false) {
                
                // ìºì‹œëœ URLì´ ìˆìœ¼ë©´ ì‚¬ìš©
                if (this.secureImageUrls && this.secureImageUrls[fileName]) {
                    return this.secureImageUrls[fileName];
                }
                
                try {
                    // íŒŒì¼ëª…ì„ URL ì¸ì½”ë”©í•˜ì—¬ ìŠ¬ë˜ì‹œ ë¬¸ì œ í•´ê²°                    
                    const url = `/api/secure-images/generate/${fileName}`;
                    
                    const response = await fetch(url);
                    
                    if (response.ok) {
                        const data = await response.json();
                        
                        // ìºì‹œì— ì €ì¥
                        if (!this.secureImageUrls) {
                            this.secureImageUrls = {};
                        }
                        this.secureImageUrls[fileName] = data.secureUrl;
                        
                        return data.secureUrl;
                    } else if (response.status === 404) {
                        console.warn(`âŒ ì´ë¯¸ì§€ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ: ${fileName}`);
                        return null;
                    } else {
                        console.error(`âŒ API ì˜¤ë¥˜ ì‘ë‹µ: ${response.status} ${response.statusText}`);
                        return null;
                    }
                } catch (error) {
                    console.error(`âŒ ì´ë¯¸ì§€ í† í° ìƒì„± ì‹¤íŒ¨: ${fileName}`, error);
                    return null;
                }
            }
        }
        
         // ë³´ì•ˆ ì´ë¯¸ì§€ URL ë§¤í•‘
         let secureImageUrls = {};

         
         
         // CMS ì»¨í…ì¸  ë¡œë”© ìŠ¤í¬ë¦½íŠ¸
         class CmsLoader {
             constructor() {
                 this.isPreviewMode = this.getPreviewModeFromUrl();
                 this.previewContent = this.getPreviewContentFromUrl();
                 this.init();
             }
            
            // URLì—ì„œ ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ í™•ì¸
            getPreviewModeFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                // ì—¬ëŸ¬ ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°ëª… í™•ì¸
                const isPreview = urlParams.get('preview') === 'true' || 
                                urlParams.get('previewMode') === 'true' ||
                                urlParams.get('isPreview') === 'true' ||
                                urlParams.has('preview') ||
                                urlParams.has('previewMode') ||
                                urlParams.has('isPreview');
                return isPreview;
            }
            
            // URLì—ì„œ ë¯¸ë¦¬ë³´ê¸° ì»¨í…ì¸  ì¶”ì¶œ
            getPreviewContentFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('content') || null;
            }
            
             // ì´ˆê¸°í™”
             async init() {
                 try {
                     // ë³´ì•ˆ ì´ë¯¸ì§€ URL ë¡œë“œ
                     await this.loadSecureImageUrls();
                     
                     // ì»¨í…ì¸  ë¡œë“œ
                     await this.loadContent();
                     
                     // ì´ë¯¸ì§€ ë³´ì•ˆ ê¸°ëŠ¥ ì¶”ê°€
                     this.addImageSecurity();
                     
                     // TOP ë²„íŠ¼ ì„¤ì •
                     this.setupTopButton();
                 } catch (error) {
                     console.error('CMS ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                     this.showError('í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                 }
             }
            
            // ì»¨í…ì¸  ë¡œë”©
            async loadContent() {
                try {
                    let response;
                    
                    // ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œì¸ì§€ í™•ì¸
                    
                    if (this.isPreviewMode) {
                        response = await fetch(`/api/cms/content/preview/${pageCode}`);
                    } else {
                        response = await fetch(`/api/cms/content/${pageCode}`);
                    }
                    
                    if (!response.ok) {
                        if (response.status === 404) {
                            throw new Error('ìš”ì²­í•˜ì‹  í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                        }
                        throw new Error(`ì„œë²„ ì˜¤ë¥˜: ${response.status}`);
                    }
                    
                    const content = await response.json();
                    this.renderContent(content);
                    
                } catch (error) {
                    console.error('ì»¨í…ì¸  ë¡œë”© ì˜¤ë¥˜:', error);
                    throw error;
                }
            }
            
             // ì»¨í…ì¸  ë Œë”ë§
             renderContent(content) {
                 // ë¡œë”© ìƒíƒœ ìˆ¨ê¸°ê¸°
                 document.getElementById('loading').style.display = 'none';
                 
                 // ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œì¼ ë•Œ ë°°ë„ˆ ì¶”ê°€
                 if (this.isPreviewMode) {
                     this.addPreviewBanner(content);
                 }
                 
                 // ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ì— í˜ì´ì§€ ì½”ë“œ í´ë˜ìŠ¤ ì¶”ê°€
                 const mainContentElement = document.getElementById('main-content');
                 mainContentElement.className = `body ${content.pageCode}`;
                 
                 // ë©”íƒ€ ì •ë³´ ì„¤ì •
                 if (content.metaTitle) {
                     document.getElementById('page-title').textContent = content.metaTitle;
                     document.title = content.metaTitle;
                 }
                 
                 if (content.metaDescription) {
                     document.getElementById('meta-description').setAttribute('content', content.metaDescription);
                 }
                 
                 if (content.metaKeywords) {
                     document.getElementById('meta-keywords').setAttribute('content', content.metaKeywords);
                 }
                 
                 // ì»¨í…ì¸  ì‚½ì…
                 const contentElement = document.getElementById('content');
                 contentElement.innerHTML = content.pageContent;
                 contentElement.style.display = 'block';
                 
                 // ì»¨í…ì¸  ë¡œë“œ í›„ ì´ë¯¸ì§€ ê²½ë¡œ ì—…ë°ì´íŠ¸
                 this.updateAllImagePaths();
                 
                 // sub01 í˜ì´ì§€ì¸ ê²½ìš° quick_move ê¸°ëŠ¥ ì´ˆê¸°í™”
                 if (pageCode.startsWith('sub01')) {
                     this.initializeQuickMove();
                 }
                 
                 // AOS ì´ˆê¸°í™” (ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼)
                 if (typeof AOS !== 'undefined') {
                     AOS.init();
                 }
             }
             
             // ë³´ì•ˆ ì´ë¯¸ì§€ URL ë¡œë“œ
             async loadSecureImageUrls() {
                 try {
                     const response = await fetch(`${window.API_BASE_URL}/secure-images/mapping`);
                     if (response.ok) {
                         secureImageUrls = await response.json();
                     }
                 } catch (error) {
                     console.error('ë³´ì•ˆ ì´ë¯¸ì§€ URL ë¡œë“œ ì˜¤ë¥˜:', error);
                 }
             }
             
             // ë³´ì•ˆ ì´ë¯¸ì§€ URL ê°€ì ¸ì˜¤ê¸° (ë™ì  ìƒì„± ì§€ì›)
             async getSecureImageUrl(fileName) {
                 // ì´ë¯¸ ë§¤í•‘ì— ìˆìœ¼ë©´ ë°”ë¡œ ë°˜í™˜
                 if (secureImageUrls[fileName]) {
                     return secureImageUrls[fileName];
                 }
                 
                 // íŒŒì¼ëª…ì´ ìœ íš¨í•œì§€ í™•ì¸ (í™•ì¥ì ì²´í¬)
                 const validExtensions = ['.png', '.jpg', '.jpeg', '.gif', '.svg', '.ico', '.webp'];
                 const hasValidExtension = validExtensions.some(ext => fileName.toLowerCase().endsWith(ext));
                 
                 if (!hasValidExtension) {
                     console.warn(`ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë¯¸ì§€ íŒŒì¼ëª…: ${fileName}`);
                     return `./images/${fileName}`;
                 }
                 
                 // ì—†ìœ¼ë©´ ë™ì ìœ¼ë¡œ í† í° ìƒì„±
                 try {
                     const response = await fetch(`${window.API_BASE_URL}/secure-images/generate/${fileName}`);
                     if (response.ok) {
                         const data = await response.json();
                         secureImageUrls[fileName] = data.secureUrl;
                         return data.secureUrl;
                     } else if (response.status === 404) {
                         console.warn(`ì´ë¯¸ì§€ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ: ${fileName}`);
                         return `./images/${fileName}`;
                     }
                 } catch (error) {
                     console.warn(`ì´ë¯¸ì§€ í† í° ìƒì„± ì‹¤íŒ¨: ${fileName}`, error);
                 }
                 
                 // ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ê²½ë¡œ ë°˜í™˜
                 return `./images/${fileName}`;
             }
             
             // ëª¨ë“  ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ë³´ì•ˆ URLë¡œ ì—…ë°ì´íŠ¸
             async updateAllImagePaths() {
                 try {
                     // data-secure-image ì†ì„±ì„ ê°€ì§„ ì´ë¯¸ì§€ë“¤ ì²˜ë¦¬
                     const secureImages = document.querySelectorAll('img[data-secure-image]');
                     for (const img of secureImages) {
                         const imageFile = img.getAttribute('data-secure-image');
                         if (imageFile) {
                             img.src = await this.getSecureImageUrl(imageFile);
                         }
                     }
                     
                     // ë¡œê³  ì´ë¯¸ì§€ë“¤
                     const logoImages = document.querySelectorAll('img[src*="kone_logo"]');
                     for (const img of logoImages) {
                         const src = img.src;
                         if (src.includes('kone_logo.svg') && !src.includes('kone_logo_color.svg')) {
                             // í°ìƒ‰ ë¡œê³ 
                             img.src = await this.getSecureImageUrl('logos/kone_logo.svg');
                         } else if (src.includes('kone_logo_color.svg')) {
                             // ì»¬ëŸ¬ ë¡œê³ 
                             img.src = await this.getSecureImageUrl('logos/kone_logo_color.svg');
                         }
                     }
                     
                        

                     // ë¡œê³  ì´ë¯¸ì§€ ì²˜ë¦¬
                    const logoImage = document.querySelector('.logo-image');
                    if (logoImage) {
                        const imageFile = 'logos/kone_logo.svg';
                        
                        const secureUrl = await this.getSecureImageUrl(imageFile);
                        logoImage.src = secureUrl;
                        
                        logoImage.addEventListener('error', function() {
                                handleImageLoadError(this, imageFile);
                            });
                        }
                                   
                     
                     // ì¼ë°˜ì ì¸ ì´ë¯¸ì§€ë“¤ (srcì— images/ê°€ í¬í•¨ëœ ê²½ìš°)
                     const allImages = document.querySelectorAll('img[src*="images/"]');
                     for (const img of allImages) {
                         const src = img.src;
                         if (src && src.includes('images/')) {
                             // ì´ë¯¸ ë³´ì•ˆ URLë¡œ ì²˜ë¦¬ëœ ì´ë¯¸ì§€ëŠ” ê±´ë„ˆë›°ê¸°
                             if (src.includes('/api/secure-images/')) {
                                 continue;
                             }
                             
                             const fileName = src.split('images/')[1];
                             if (fileName && !img.hasAttribute('data-secure-image')) {
                                 // íŒŒì¼ëª…ì—ì„œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë‚˜ í•´ì‹œ ì œê±°
                                 const cleanFileName = fileName.split('?')[0].split('#')[0];
                                 img.src = await this.getSecureImageUrl(cleanFileName);
                             }
                         }
                     }
                     
                     // CSS ë°°ê²½ ì´ë¯¸ì§€ë“¤ (ì¸ë¼ì¸ ìŠ¤íƒ€ì¼)
                     const elementsWithBg = document.querySelectorAll('[style*="background-image"]');
                     for (const element of elementsWithBg) {
                         const style = element.style.backgroundImage;
                         if (style && style.includes('images/')) {
                             const urlMatch = style.match(/url\(['"]?([^'"]*images\/[^'"]*)['"]?\)/);
                             if (urlMatch) {
                                 const imagePath = urlMatch[1];
                                 const fileName = imagePath.split('images/')[1];
                                 if (fileName) {
                                     // íŒŒì¼ëª…ì—ì„œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë‚˜ í•´ì‹œ ì œê±°
                                     const cleanFileName = fileName.split('?')[0].split('#')[0];
                                     const secureUrl = await this.getSecureImageUrl(cleanFileName);
                                     element.style.backgroundImage = `url(${secureUrl})`;
                                 }
                             }
                         }
                     }
                     
                     // CSS í´ë˜ìŠ¤ë¡œ ì •ì˜ëœ ë°°ê²½ ì´ë¯¸ì§€ë“¤ ì²˜ë¦¬
                     await this.updateCssBackgroundImages();
                 } catch (error) {
                     console.error('ì´ë¯¸ì§€ ê²½ë¡œ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜:', error);
                 }
             }
             
             // CSS í´ë˜ìŠ¤ë¡œ ì •ì˜ëœ ë°°ê²½ ì´ë¯¸ì§€ë“¤ ì²˜ë¦¬
             async updateCssBackgroundImages() {
                 try {
                     // ëª¨ë“  ìš”ì†Œë¥¼ ê²€ì‚¬í•˜ì—¬ CSS í´ë˜ìŠ¤ë¡œ ì •ì˜ëœ ë°°ê²½ ì´ë¯¸ì§€ ì°¾ê¸°
                     const allElements = document.querySelectorAll('*');
                     
                     for (const element of allElements) {
                         const computedStyle = window.getComputedStyle(element);
                         const backgroundImage = computedStyle.backgroundImage;
                         
                         if (backgroundImage && backgroundImage !== 'none' && backgroundImage.includes('images/')) {
                             // background-imageì—ì„œ URL ì¶”ì¶œ
                             const urlMatch = backgroundImage.match(/url\(['"]?([^'"]*images\/[^'"]*)['"]?\)/);
                             if (urlMatch) {
                                 const imagePath = urlMatch[1];
                                 const fileName = imagePath.split('images/')[1];
                                 if (fileName) {
                                     // íŒŒì¼ëª…ì—ì„œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë‚˜ í•´ì‹œ ì œê±°
                                     const cleanFileName = fileName.split('?')[0].split('#')[0];
                                     const secureUrl = await this.getSecureImageUrl(cleanFileName);
                                     
                                     // ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë¡œ ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì •
                                     element.style.backgroundImage = `url(${secureUrl})`;
                                 }
                             }
                         }
                     }
                 } catch (error) {
                     console.error('CSS ë°°ê²½ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜:', error);
                 }
             }
             
             // Quick Move ê¸°ëŠ¥ ì´ˆê¸°í™” (sub01 í˜ì´ì§€ ì „ìš©)
             initializeQuickMove() {
                 try {
                     // sub01 í˜ì´ì§€ ìˆœì„œ ì •ì˜
                     const sub01Pages = [
                         { code: 'sub0101', title: 'íšŒì‚¬ì†Œê°œ', url: 'cms-template.html?page=sub0101' },
                         { code: 'sub0102', title: 'ì¼€ì´ì›ì—°í˜', url: 'cms-template.html?page=sub0102' },
                         { code: 'sub0103', title: 'CEO ì¸ì‚¬ë§', url: 'cms-template.html?page=sub0103' },
                         { code: 'sub0104', title: 'ìœ¤ë¦¬ê²½ì˜', url: 'cms-template.html?page=sub0104' },
                         { code: 'sub0105', title: 'ì¡°ì§êµ¬ì„±', url: 'cms-template.html?page=sub0105' },
                         { code: 'sub0106', title: 'ì¸ì¦í˜„í™©', url: 'cms-template.html?page=sub0106' },
                         { code: 'sub0107', title: 'ì˜¤ì‹œëŠ” ê¸¸', url: 'cms-template.html?page=sub0107' }
                     ];
                     
                     // í˜„ì¬ í˜ì´ì§€ ì¸ë±ìŠ¤ ì°¾ê¸°
                     const currentIndex = sub01Pages.findIndex(page => page.code === pageCode);
                     if (currentIndex === -1) {
                         console.warn('í˜„ì¬ í˜ì´ì§€ê°€ sub01 ì‹œë¦¬ì¦ˆì— ì—†ìŠµë‹ˆë‹¤:', pageCode);
                         return;
                     }
                     
                     // quick_move ë²„íŠ¼ë“¤ ì°¾ê¸°
                     const quickMoveDiv = document.querySelector('.quick_move');
                     if (!quickMoveDiv) {
                         console.warn('quick_move divë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                         return;
                     }
                     
                     const leftButton = quickMoveDiv.querySelector('button.l');
                     const rightButton = quickMoveDiv.querySelector('button.r');
                     
                // ì´ì „ í˜ì´ì§€ ë²„íŠ¼ ì„¤ì •
                if (leftButton) {
                    let prevPage;
                    if (currentIndex > 0) {
                        // ì¼ë°˜ì ì¸ ì´ì „ í˜ì´ì§€
                        prevPage = sub01Pages[currentIndex - 1];
                    } else {
                        // ì²« ë²ˆì§¸ í˜ì´ì§€ì¸ ê²½ìš° ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ
                        prevPage = sub01Pages[sub01Pages.length - 1];
                    }
                    leftButton.innerHTML = `<img src="./images/quick_arr_l.svg" alt=""> ${prevPage.title}`;
                    leftButton.onclick = () => {
                        window.location.href = prevPage.url;
                    };
                }
                
                // ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼ ì„¤ì •
                if (rightButton) {
                    let nextPage;
                    if (currentIndex < sub01Pages.length - 1) {
                        // ì¼ë°˜ì ì¸ ë‹¤ìŒ í˜ì´ì§€
                        nextPage = sub01Pages[currentIndex + 1];
                    } else {
                        // ë§ˆì§€ë§‰ í˜ì´ì§€ì¸ ê²½ìš° ì²« ë²ˆì§¸ í˜ì´ì§€ë¡œ
                        nextPage = sub01Pages[0];
                    }
                    rightButton.innerHTML = `${nextPage.title} <img src="./images/quick_arr_r.svg" alt="">`;
                    rightButton.onclick = () => {
                        window.location.href = nextPage.url;
                    };
                }
                     
                        
                     
                 } catch (error) {
                     console.error('Quick Move ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜:', error);
                 }
             }
             
             // ê°„ë‹¨í•œ ì´ë¯¸ì§€ ë³´ì•ˆ ê¸°ëŠ¥
             addImageSecurity() {
                 // ëª¨ë“  ì´ë¯¸ì§€ì— ìš°í´ë¦­ ë°©ì§€
                 document.addEventListener('contextmenu', function(e) {
                     if (e.target.tagName === 'IMG') {
                         e.preventDefault();
                         return false;
                     }
                 });
                 
                 // ëª¨ë“  ì´ë¯¸ì§€ì— ë“œë˜ê·¸ ë°©ì§€
                 document.addEventListener('dragstart', function(e) {
                     if (e.target.tagName === 'IMG') {
                         e.preventDefault();
                         return false;
                     }
                 });
                 
                 // ì´ë¯¸ì§€ ì„ íƒ ë°©ì§€
                 document.addEventListener('selectstart', function(e) {
                     if (e.target.tagName === 'IMG') {
                         e.preventDefault();
                         return false;
                     }
                 });
             }
            
            // ì—ëŸ¬ í‘œì‹œ
            showError(message) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('error').style.display = 'block';
                document.getElementById('error-message').textContent = message;
            }
            
            // ë¯¸ë¦¬ë³´ê¸° ë°°ë„ˆ ì¶”ê°€
            addPreviewBanner(content) {
                const banner = document.createElement('div');
                banner.id = 'preview-banner';
                banner.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 10px 20px;
                    text-align: center;
                    font-size: 14px;
                    z-index: 9999;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                `;
                
                // ë¯¸ë¦¬ë³´ê¸° ì»¨í…ì¸ ì¸ì§€ í™•ì¸ (metaDescriptionì— [PREVIEW_CONTENT] í”Œë˜ê·¸ê°€ ìˆëŠ”ì§€ í™•ì¸)
                const isPreviewContent = content.metaDescription && content.metaDescription.startsWith('[PREVIEW_CONTENT]');
                
                const bannerText = isPreviewContent ? 
                    'ğŸ“ ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ - ì„ì‹œ ì €ì¥ëœ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤' :
                    'ğŸ“ ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ - ì„ì‹œ ì €ì¥ëœ ë‚´ìš©ì´ ì—†ì–´ ì‹¤ì œ ì»¨í…ì¸ ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤';
                
                banner.innerHTML = `
                    ${bannerText}
                    <button onclick="window.print()" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 5px 10px; border-radius: 3px; cursor: pointer; margin-left: 10px; font-size: 12px;">ğŸ–¨ï¸ ì¸ì‡„</button>
                    <button onclick="window.close()" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 5px 10px; border-radius: 3px; cursor: pointer; margin-left: 5px; font-size: 12px;">âŒ ë‹«ê¸°</button>
                `;
                
                document.body.insertBefore(banner, document.body.firstChild);
                
                // bodyì— ìƒë‹¨ íŒ¨ë”© ì¶”ê°€
                document.body.style.paddingTop = '50px';
            }
            
            // TOP ë²„íŠ¼ ì„¤ì •
            setupTopButton() {
                const topBtn = document.getElementById("toTopBtn");
                
                // ìŠ¤í¬ë¡¤ ê°ì§€
                window.addEventListener("scroll", function () {
                    const showPoint = window.innerHeight * 1.2;
                    
                    if (window.scrollY > showPoint) {
                        topBtn.classList.add("show");
                    } else {
                        topBtn.classList.remove("show");
                    }
                });
                
                // í´ë¦­ ì‹œ ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤
                topBtn.addEventListener("click", function () {
                    window.scrollTo({
                        top: 0,
                        behavior: "smooth"
                    });
                });
            }
        }
        
        // ì„¸ì…˜ í† í° ê´€ë ¨ ë³€ìˆ˜ ë° í•¨ìˆ˜ë“¤
        let sessionToken = null;
        
        // ì„¸ì…˜ í† í° ë°œê¸‰
        async function generateSessionToken() {
            try {
                const response = await fetch(`${API_BASE_URL}/secure-images/session-token`, {
                    method: 'POST',
                    credentials: 'include' // ì„¸ì…˜ ì¿ í‚¤ í¬í•¨
                });
                
                if (response.ok) {
                    const data = await response.json();
                    sessionToken = data.sessionToken;
                    return sessionToken;
                } else {
                    console.error('ì„¸ì…˜ í† í° ë°œê¸‰ ì‹¤íŒ¨:', response.status);
                    return null;
                }
            } catch (error) {
                console.error('ì„¸ì…˜ í† í° ë°œê¸‰ ì˜¤ë¥˜:', error);
                return null;
            }
        }
        
        // DOM ë¡œë“œ ì™„ë£Œ í›„ í—¤ë” ë¡œë”ì™€ CMS ë¡œë” ì´ˆê¸°í™”
        document.addEventListener("DOMContentLoaded", async function () {
            // ì„¸ì…˜ í† í° ë°œê¸‰
            await generateSessionToken();
            
            new HeaderLoader();
            new CmsLoader();
            
            
        });
    </script>
</body>
</html>
